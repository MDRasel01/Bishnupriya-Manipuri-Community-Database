<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bishnupriya Manipuri Community Database</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="container">
            <div class="nav-brand">
                <h2>Bishnupriya Manipuri</h2>
            </div>
            <div class="nav-links">
                <a href="#home" class="nav-link active">Home</a>
                <a href="#directory" class="nav-link">Directory</a>
                <a href="#analytics" class="nav-link">Analytics</a>
                <a href="#admin" class="nav-link" onclick="showAdminLogin()">Admin</a>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <section id="home" class="hero-section">
        <div class="container">
            <div class="hero-content">
                <h1 class="hero-title">
                    Bishnupriya Manipuri
                    <span class="gradient-text">Community Database</span>
                </h1>
                <p class="hero-subtitle">Connect with your roots. Build a stronger community together.</p>
                <button class="btn btn-primary btn-lg" onclick="openRegistrationModal()">
                    <i class="fas fa-user-plus"></i>
                    Create Your Profile
                </button>
            </div>

            <!-- Stats Cards -->
            <div class="stats-grid">
                <div class="stat-card glass">
                    <i class="fas fa-users stat-icon"></i>
                    <h3 class="stat-number" id="totalMembers">0</h3>
                    <p class="stat-label">Registered Members</p>
                </div>
                <div class="stat-card glass">
                    <i class="fas fa-globe stat-icon stat-icon-teal"></i>
                    <h3 class="stat-number">Global</h3>
                    <p class="stat-label">Community Reach</p>
                </div>
                <div class="stat-card glass">
                    <i class="fas fa-chart-line stat-icon stat-icon-green"></i>
                    <h3 class="stat-number">Growing</h3>
                    <p class="stat-label">Every Day</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Analytics Section -->
    <section id="analytics" class="analytics-section">
        <div class="container">
            <h2 class="section-title">
                <i class="fas fa-chart-bar"></i>
                Community Analytics
            </h2>

            <!-- Overview Cards -->
            <div class="analytics-overview">
                <div class="analytics-card glass">
                    <div class="analytics-header">
                        <i class="fas fa-users"></i>
                        <span>Total Members</span>
                    </div>
                    <p class="analytics-number" id="analyticsTotal">0</p>
                </div>
                <div class="analytics-card glass">
                    <div class="analytics-header">
                        <i class="fas fa-check-circle" style="color: #10b981;"></i>
                        <span>Approved</span>
                    </div>
                    <p class="analytics-number" style="color: #10b981;" id="analyticsApproved">0</p>
                </div>
                <div class="analytics-card glass">
                    <div class="analytics-header">
                        <i class="fas fa-clock" style="color: #f59e0b;"></i>
                        <span>Pending</span>
                    </div>
                    <p class="analytics-number" style="color: #f59e0b;" id="analyticsPending">0</p>
                </div>
                <div class="analytics-card glass">
                    <div class="analytics-header">
                        <i class="fas fa-trash" style="color: #ef4444;"></i>
                        <span>Trashed</span>
                    </div>
                    <p class="analytics-number" style="color: #ef4444;" id="analyticsTrash">0</p>
                </div>
            </div>

            <!-- Detailed Analytics -->
            <div class="analytics-details">
                <div class="analytics-detail-card glass">
                    <h3 class="analytics-detail-title">Members by Country</h3>
                    <div id="countryStats" class="stats-list"></div>
                </div>
                <div class="analytics-detail-card glass">
                    <h3 class="analytics-detail-title">Members by City</h3>
                    <div id="cityStats" class="stats-list"></div>
                </div>
                <div class="analytics-detail-card glass">
                    <h3 class="analytics-detail-title">Members by State</h3>
                    <div id="stateStats" class="stats-list"></div>
                </div>
            </div>
        </div>
    </section>

    <!-- Search & Filter Section -->
    <section id="directory" class="search-section">
        <div class="container">
            <div class="search-card glass">
                <h2 class="section-title">
                    <i class="fas fa-filter"></i>
                    Search & Filter Members
                </h2>
                <div class="search-grid">
                    <div class="form-group">
                        <label>Name or Mobile</label>
                        <input type="text" id="searchName" placeholder="Search by name or mobile...">
                    </div>
                    <div class="form-group">
                        <label>Village</label>
                        <input type="text" id="searchVillage" placeholder="Enter village...">
                    </div>
                    <div class="form-group">
                        <label>City</label>
                        <input type="text" id="searchCity" placeholder="Enter city...">
                    </div>
                    <div class="form-group">
                        <label>Grandfather's Name</label>
                        <input type="text" id="searchGrandfather" placeholder="Enter grandfather's name...">
                    </div>
                    <div class="form-group">
                        <label>Gotra</label>
                        <input type="text" id="searchGotra" placeholder="Enter gotra...">
                    </div>
                    <div class="form-group">
                        <label>Lokei</label>
                        <input type="text" id="searchLokei" placeholder="Enter lokei...">
                    </div>
                    <div class="form-group">
                        <label>Surname</label>
                        <input type="text" id="searchSurname" placeholder="Enter surname...">
                    </div>
                    <div class="form-group">
                        <label>School Name</label>
                        <input type="text" id="searchSchool" placeholder="Enter school name...">
                    </div>
                    <div class="form-group">
                        <label>Graduation Year</label>
                        <input type="text" id="searchYear" placeholder="Enter year...">
                    </div>
                </div>
                <div class="search-buttons">
                    <button class="btn btn-primary" onclick="searchMembers()">
                        <i class="fas fa-search"></i>
                        Search
                    </button>
                    <button class="btn btn-outline" onclick="resetFilters()">
                        Reset Filters
                    </button>
                </div>
            </div>
        </div>
    </section>

    <!-- Members Directory -->
    <section class="members-section">
        <div class="container">
            <h2 class="section-title">
                <i class="fas fa-search"></i>
                Community Members
            </h2>
            <div id="membersGrid" class="members-grid"></div>
            <div id="noMembers" class="no-members" style="display: none;">
                <p>No members found. Try adjusting your filters.</p>
            </div>
        </div>
    </section>

    <!-- Registration Modal -->
    <div id="registrationModal" class="modal">
        <div class="modal-content modal-large">
            <div class="modal-header">
                <h2>Member Registration</h2>
                <button class="modal-close" onclick="closeRegistrationModal()">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <form id="registrationForm" class="modal-body">
                <div class="form-grid">
                    <div class="form-group">
                        <label>Upload Pan/Aadhar Card *</label>
                        <input type="file" id="kycFile" accept="image/*,application/pdf" required>
                    </div>
                    <div class="form-group">
                        <label>Name *</label>
                        <input type="text" id="name" required>
                    </div>
                    <div class="form-group">
                        <label>Father's Name *</label>
                        <input type="text" id="fatherName" required>
                    </div>
                    <div class="form-group">
                        <label>Mother's Name *</label>
                        <input type="text" id="motherName" required>
                    </div>
                    <div class="form-group">
                        <label>Grandfather's Name *</label>
                        <input type="text" id="grandfatherName" required>
                    </div>
                    <div class="form-group">
                        <label>House No *</label>
                        <input type="text" id="houseNo" required>
                    </div>
                    <div class="form-group">
                        <label>Village *</label>
                        <input type="text" id="village" required>
                    </div>
                    <div class="form-group">
                        <label>Post Office *</label>
                        <input type="text" id="postOffice" required>
                    </div>
                    <div class="form-group">
                        <label>Town *</label>
                        <input type="text" id="town" required>
                    </div>
                    <div class="form-group">
                        <label>City *</label>
                        <input type="text" id="city" required>
                    </div>
                    <div class="form-group">
                        <label>State *</label>
                        <input type="text" id="state" required>
                    </div>
                    <div class="form-group">
                        <label>District *</label>
                        <input type="text" id="district" required>
                    </div>
                    <div class="form-group">
                        <label>Country *</label>
                        <input type="text" id="country" required>
                    </div>
                    <div class="form-group">
                        <label>Pin Code *</label>
                        <input type="text" id="pinCode" required>
                    </div>
                    <div class="form-group">
                        <label>Zip Code *</label>
                        <input type="text" id="zipCode" required>
                    </div>
                    <div class="form-group">
                        <label>Mobile Number *</label>
                        <input type="tel" id="mobileNumber" required>
                    </div>
                    <div class="form-group">
                        <label>Email *</label>
                        <input type="email" id="email" required>
                    </div>
                    <div class="form-group">
                        <label>Date of Birth *</label>
                        <input type="date" id="dob" required>
                    </div>
                    <div class="form-group">
                        <label>Number of Children *</label>
                        <input type="number" id="children" min="0" required>
                    </div>
                    <div class="form-group">
                        <label>Education *</label>
                        <input type="text" id="education" required>
                    </div>
                    <div class="form-group">
                        <label>Gotra</label>
                        <input type="text" id="gotra">
                    </div>
                    <div class="form-group">
                        <label>Lokei</label>
                        <input type="text" id="lokei">
                    </div>
                    <div class="form-group">
                        <label>Surname</label>
                        <input type="text" id="surname">
                    </div>
                    <div class="form-group">
                        <label>School Name</label>
                        <input type="text" id="schoolName">
                    </div>
                    <div class="form-group">
                        <label>Year of Graduation</label>
                        <input type="text" id="graduationYear">
                    </div>
                </div>
                <div class="form-group">
                    <label>Job Description *</label>
                    <textarea id="jobDescription" rows="3" required></textarea>
                </div>
                <button type="submit" class="btn btn-primary btn-block">
                    Submit Profile
                </button>
            </form>
        </div>
    </div>

    <!-- Admin Login Modal -->
    <div id="adminLoginModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2><i class="fas fa-shield-alt"></i> Admin Login</h2>
                <button class="modal-close" onclick="closeAdminLogin()">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <form id="adminLoginForm" class="modal-body">
                <div class="form-group">
                    <label>Username</label>
                    <input type="text" id="adminUsername" required>
                </div>
                <div class="form-group">
                    <label>Password</label>
                    <input type="password" id="adminPassword" required>
                </div>
                <p class="text-muted">Default: admin / admin123</p>
                <button type="submit" class="btn btn-primary btn-block">
                    Login
                </button>
            </form>
        </div>
    </div>

    <!-- Admin Panel -->
    <div id="adminPanel" class="admin-panel" style="display: none;">
        <div class="admin-header">
            <div class="container">
                <h1><i class="fas fa-shield-alt"></i> Admin Panel</h1>
                <button class="btn btn-outline" onclick="logoutAdmin()">
                    <i class="fas fa-sign-out-alt"></i>
                    Logout
                </button>
            </div>
        </div>

        <div class="container">
            <div class="admin-tabs">
                <button class="tab-btn active" onclick="showAdminTab('pending')">
                    <i class="fas fa-clock"></i> Pending
                </button>
                <button class="tab-btn" onclick="showAdminTab('approved')">
                    <i class="fas fa-check-circle"></i> Approved
                </button>
                <button class="tab-btn" onclick="showAdminTab('trash')">
                    <i class="fas fa-trash"></i> Trash
                </button>
            </div>

            <div id="adminMembersList" class="admin-members-list"></div>
        </div>
    </div>

    <!-- Toast Notification -->
    <div id="toast" class="toast"></div>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <p>&copy; 2025 Bishnupriya Manipuri Community Database. All rights reserved.</p>
        </div>
    </footer>

    <script src="script.js"></script>
</body>
</html>